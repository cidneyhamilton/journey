<span class="draghandle" title="Drag to change question order"></span>

<span class="questionandcaption">
  <div class="edit-mode-overlay" {{action toggleEditMode}}>
    <p>Click to edit</p>
  </div>
  
  {{#unless view.content.isDisplay}}
    <label {{bind-attr class=":caption view.content.required:required" for="view.answerField.elementId"}}>
      <span {{bind-attr class=":icon :image_button view.content.required:icon-required:icon-not-required"}} {{action "toggleRequired" target="view"}}>
      </span>
      
      {{view QuestionnaireEdit.InPlaceEditorView valueBinding="view.content.caption" modelBinding="view.content" displayRawHtml=true}}
    </label>
  {{/unless}}
  <span class="questionbody">
    {{#if view.content.hasPurpose}}
      <span class="special_purpose">
        <span class="icon icon-set-special-purpose"></span>
        {{view.content.purpose}}
      </span>
    {{/if}}
  
    {{view QuestionnaireEdit.QuestionBodyView contentBinding="view.content"}}
      
  </span>
</span>

<span class="moreoptions">
  <span class="dropdown_icon" {{action "showOptions" target="view"}} title="More options..."></span>
  {{#if view.optionsVisible}}
    <ul class="dropdown">
      <span class="selected_dropdown_icon" {{action "hideOptions" target="view"}} title="Hide options"></span>
      
      {{partial "question_options"}}
    </ul>
  {{/if}}
</span>